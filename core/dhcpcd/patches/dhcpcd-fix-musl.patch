diff --git a/src/if-linux.c b/src/if-linux.c
index fd47278..6a6c0d0 100644
--- a/src/if-linux.c
+++ b/src/if-linux.c
@@ -37,7 +37,6 @@
 #include <linux/if_addr.h>
 #include <linux/if_link.h>
 #include <linux/if_packet.h>
-#include <linux/if_tun.h>
 #include <linux/if_vlan.h>
 #include <linux/filter.h>
 #include <linux/netlink.h>
@@ -291,7 +290,7 @@ if_tap(const char *ifname)
 	snprintf(path, sizeof(path), SYS_TUNTAP, ifname);
 	if (check_proc_hex(path, &n) == -1)
 		return false;
-	return n & IFF_TAP;
+	return n & 0x0002;
 }
 
 bool
